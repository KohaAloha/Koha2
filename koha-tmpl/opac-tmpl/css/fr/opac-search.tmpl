    <!-- TMPL_INCLUDE NAME="opac-top.inc" -->
<div id="mainbloc">

<h1 class="catalogue">Recherche dans le Catalogue</h1>

<form name="f" method="post" action="<!-- TMPL_VAR name="SCRIPT_NAME" -->">
	
	<div id="bloc20">
		<h2 class="catalogue">Chercher dans</h2>
		<p>
			<input type="hidden" name="op" value="do_search" />
			<input type="hidden" name="nbstatements" value="<!-- TMPL_VAR NAME="nbstatements" -->" />
			<label class="label20">N'importe où</label>
			<input type="hidden" name="marclist" value="" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />
			<input type="text" name="value" onchange="sql_update()" size="35" />
		</p>
		<p>
			<label class="label20">Titre</label>
			<input type="hidden" name="marclist" value="biblio.title" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />
			<input type="text" name="value" onchange="sql_update()" size="35" />
		</p>
		<p>
			<label class="label20">Auteur</label> <input type="hidden" name="marclist" value="biblio.author" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />
			<input type="text" name="value" onchange="sql_update()" size="35" />
		</p>
		<p>
			<label class="label20">Mot-clef</label>
			<input type="hidden" name="marclist" value="bibliosubject.subject" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />  
			<input type="text" name="value" onchange="sql_update()" size="35" />
		</p>
		<p>
			<label class="label20">Type de documents</label>
			<input type="hidden" name="marclist" value="biblioitems.itemtype" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="=" />
			<!-- TMPL_VAR name="CGIitemtype" -->
		</p>
		<p>
				<label class="label20">Annexe</label>
				<input type="hidden" name="marclist" value="items.holdingbranch" />
				<input type="hidden" name="and_or" value="and" />
				<input type="hidden" name="excluding" value="" />
				<input type="hidden" name="operator" value="=" />  
				<!-- TMPL_VAR name="CGIbranch" -->
		</p>
		<p>
			<input type="submit" value="Lancer la recherche" class="button catalogue">
		</p>
	</div>
	<div id="bloc20">
		<h2>Autres options</h2>
		<p>
				<label class="label20">code barre</label>
				<input type="hidden" name="marclist" value="items.barcode" />
				<input type="hidden" name="and_or" value="and" />
				<input type="hidden" name="excluding" value="" />
				<input type="hidden" name="operator" value="contains" />
				<input type="text" name="value" onchange="sql_update()" /> 
		</p>
		<p>
			<label class="label20">Cote du document</label>
			<input type="hidden" name="marclist" value="items.itemcallnumber" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />
			<input type="text" name="value" onchange="sql_update()" />
		</p>
		<p>
			<label class="label20">ISBN :</label>
			<input type="hidden" name="marclist" value="biblioitems.isbn" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="=" />
			<input type="text" name="value" onchange="sql_update()" />
		</p>
		<p>
			<label class="label20">Editeur</label>
			<input type="hidden" name="marclist" value="biblioitems.publishercode" />
			<input type="hidden" name="and_or" value="and" />
			<input type="hidden" name="excluding" value="" />
			<input type="hidden" name="operator" value="contains" />
			<input type="text" name="value" onchange="sql_update()" />
		</p>
		<p>Réponses par page
			<select name="resultsperpage" size="1">
				<option value="20">20</option>
				<option value="50">50</option>
				<option value="100">100</option>
			</select>
		</p>
		<p>Trié par
			<select name="orderby" size="1">
				<option value="biblio.title">Titre</option>
				<option value="biblio.author">Auteur</option>
				<option value="biblioitems.dewey">code Dewey</option>
				<option value="biblioitems.publicationyear">Année de Publication</option>
				<option value="biblioitems.publishercode">Editeur</option>
				<option value="biblio.timestamp desc">date d'acquisition</option>
			</select>
		</p>
		<p>&nbsp;</p>
		<p>&nbsp;</p>
	</div>
	<div id="bloc60">
		<h2>Aide</h2>
		<h3>Titre</h3>
		<p>Vous pouvez entrer un titre complet ou partiel. La recherche sera faite aussi sur les sous titre et les autres champs relatifs au titre</p>
		<h3>Auteur</h3>
		<p>Vous pouvez entrer un nom ou un prénom. La recherche est aussi faite sur les co-auteurs et les autres champs en relation (traducteur, illustrateur...)</p>
		<p>N'oubliez pas qu'un auteur peut concerner un auteur physique (Victor Hugo) ou moral (CNRS...)</p>
		<h3>Annexes</h3>
		<p>Sélectionnez une annexe si vous voulez limiter votre recherche à une annexe spécifique. Par défaut, la recherche sera faite sur toutes les annexes de la bibliothèque</p>
		<h3>Commencer la recherche</h3>
		<p>Une recherche est faite sur chaque mot que vous entrez. Les mots vides sont ignorés. Si vous entrez, par exemple "les deux tours" dans le titre, le résultat contiendra tous les mots avec deux ET tours dans le titre. "Les" sera ignoré</p>
		<p>Si vous voulez entrer une partie de mot, mettez une * ou un % à la fin du mot. Par exemple, "deux tours" retournera "Les deux tours" mais aussi "Une tour et deux maisons"</p>
	</div>
</form>

<script type="text/javascript">
function sql_update() {
document.f.sql.value="";
	for (i=0 ; i<document.f.marclist.length ; i++) {
		if (document.f.value[i].value.length>0) {
			document.f.sql.value = document.f.sql.value+
										document.f.and_or[i].value + ' (' +
										document.f.excluding[i].value + ' ' +
										document.f.marclist[i].value + ' ' +
										document.f.operator[i].value + ' ' +
										'\''+document.f.value[i].value + '\') ';
		}
	}
}

function AddStatement() {

	document.forms[0].op.value="AddStatement";
	document.f.submit();
}

function PopupSuggestion() {
    var strQuery="";
	for (i=0 ; i<document.f.marclist.length ; i++) {
		if (document.f.value[i].value.length>0) {
		    strQuery += " "+document.f.value[i].value;
		}
	}
	newin=window.open("suggest.pl?Q="+strQuery,"Suggestions",'width=500,height=400,toolbar=false,scrollbars=yes');
}

</script>
</div>
<!-- TMPL_INCLUDE NAME="opac-bottom.inc" -->
