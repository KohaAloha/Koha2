<!-- TMPL_INCLUDE NAME="parameters-top.inc" -->

<script language="javascript" type="text/javascript">
function _(s) { return s } // dummy function for gettext
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function isNotNull(f,noalert) {
	if (f.value.length ==0) {
		return false;
	}
	return true;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function toUC(f) {
	var x=f.value.toUpperCase();
	f.value=x;
	return true;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function isNum(v,maybenull) {
var n = new Number(v.value);
if (isNaN(n)) {
	return false;
	}
if (maybenull==0 && v.value=='') {
	return false;
}
return true;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function isDate(f) {
	var t = Date.parse(f.value);
	if (isNaN(t)) {
		return false;
	}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
function Check(f) {
	var ok=1;
	var _alertString="";
	var alertString2;
	if (f.itemtype.value.length==0) {
		_alertString += "\n- " + _("Medientyp fehlt");
	}
	if (!(isNotNull(window.document.Aform.description,1))) {
		_alertString += "\n- " + _("Beschreibung fehlt");
	}
	if ((!isNum(f.rentalcharge,0)) && f.rentalcharge.value.length > 0) {
		_alertString += "\n- " + _("Leihgeb&uuml;hr ist keine Zahl");
	}
	if (_alertString.length==0) {
		document.Aform.submit();
	} else {
		alertString2  = _("Form not submitted because of the following problem(s)");
		alertString2 += "\n------------------------------------------------------------------------------------\n";
		alertString2 += _alertString;
		alert(alertString2);
	}
}
</script>
<div id="mainbloc">
<!-- TMPL_IF NAME="add_form" -->
	<!-- TMPL_IF NAME="itemtype" -->
		<h1 class="parameters">Medientyp bearbeiten</h1>
	<!-- TMPL_ELSE -->
		<h1 class="parameters">Medientyp hinzuf&uuml;gen</h1>
	<!-- /TMPL_IF -->
	<form action="<!-- TMPL_VAR NAME="script_name" -->" name="Aform" method="post">
		<input type="hidden" name="op" value="add_validate">
		<input type="hidden" name="checked" value="0">
			<!-- TMPL_IF NAME="itemtype" -->
				<p><label class="label100">Medientyp<label><input type="hidden" name="itemtype" value="<!-- TMPL_VAR NAME="itemtype" -->"><!-- TMPL_VAR NAME="itemtype" --></p>
			<!-- TMPL_ELSE -->
				<p><label class="label100">Medientyp<label><input type="text" name="itemtype" size="6" maxlength="4" onblur="toUC(this)"></p>
			<!-- /TMPL_IF -->
			<p>
				<label class="label100">Beschreibung</label>
				<input type="text" name="description" size="40" maxlength="80" value="<!-- TMPL_VAR NAME="description" escape=HTML -->">
			</p>
			<p>
				<label class="label100">Nicht ausleihbar</label>
				<!-- TMPL_IF NAME="notforloan" -->
					<input type="checkbox" name="notforloan" checked value="1">
				<!-- TMPL_ELSE -->
					<input type="checkbox" name="notforloan" value="1">
				<!-- /TMPL_IF -->
				wenn angehakt, k&ouml;nnen Medien dieses Medientyps NICHT ausgeliehen werden. Ist der Haken nicht gesetzt, k&ouml;nnen Medien dieses Medientyps entliehen werden, auch wenn ein einzelnes Exemplar als "nicht ausleihbar" gekennzeichnet ist
			</p>
			<p>
				<label class="label100" name="renewalsallowed">Anzahl der m&ouml;glichen Verl&auml;ngerunegn</label>
				<input type="text" name="renewalsallowed" value="<!-- TMPL_VAR NAME="renewalsallowed" -->">
			</p>
			<p>
				<label class="label100">Leihgeb&uuml;hr</label>
				<input type="text" name="rentalcharge" size="10" value="<!-- TMPL_VAR NAME="rentalcharge" -->">
			</p>
			<p>
				<input type="button" value="OK" class="button" onclick="Check(this.form)">
			</p>
	</form>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="delete_confirm" -->
		<p><label>Medientyp</label><!-- TMPL_VAR NAME="itemtype" --></p>
	<form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
		<input type="hidden" name="op" value="delete_confirmed"><input type="hidden" name="itemtype" value="<!-- TMPL_VAR NAME="itemtype" -->">
	<p><label>Beschreibung</label><!-- TMPL_VAR NAME="description" --></p>
	<p><label>Verl&auml;ngerungen</label><!-- TMPL_IF NAME="renewalsallowed" -->Zul&auml;ssig<!-- TMPL_ELSE -->Nicht erlaubt<!-- /TMPL_IF --></p>
	<p><lable>Leihgeb&uuml;hr</label><!-- TMPL_VAR NAME="rentalcharge" --></p>
	<!-- TMPL_IF NAME="total" -->
		<p>
			<b>This record is used <!-- TMPL_VAR NAME="total" --> times. Deletion not possible</b>
		</p>
		<p>
			</form>
			<form action="<!-- TMPL_VAR NAME="script_name" -->" method="post"><input type="submit" value="OK" class="button parameters"></form>
		</p>
	<!-- TMPL_ELSE -->
		<p>L&ouml;schen best&auml;tigen</p>
		<p>
			<input type="submit" value="JA" class="button parameters"></form>
			<form action="<!-- TMPL_VAR NAME="script_name" -->" method="post"><input type="submit" value="NEIN" class="button parameters"></form>
		</p>
	<!-- /TMPL_IF -->

<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="else" -->
<h1 class="parameters">Administration Medientypen</h1>
<table>
	<tr>
		<th class="parameters">Code</th>
		<th class="parameters">Beschreibung</th>
		<th class="parameters">nicht ausleihbar</th>
		<th class="parameters">Verl&auml;ngerbar</th>
		<th class="parameters">Geb&uuml;hr</th>
		<th class="parameters">Bearbeiten</th>
		<th class="parameters">L&ouml;schen</th>
	</tr>
	<!-- TMPL_LOOP NAME="loop" -->
		<tr>
			<td><!-- TMPL_VAR NAME="itemtype" --></td>
			<td><!-- TMPL_VAR NAME="description" --></td>
			<td><!-- TMPL_IF NAME="notforloan" -->Ja<!-- /TMPL_IF --></td>
			<td><!-- TMPL_UNLESS name="notforloan" -->
					<!-- TMPL_IF NAME="renewalsallowed" -->
						<!-- TMPL_VAR name="renewalsallowed" --> mal
					<!-- TMPL_ELSE -->
						Nein
					<!-- /TMPL_IF -->
				<!-- /TMPL_UNLESS -->
			</td>
			<td><!-- TMPL_UNLESS name="notforloan" --><!-- TMPL_VAR NAME="rentalcharge" --><!-- /TMPL_UNLESS --></td>
			<td><a href="<!-- TMPL_VAR NAME="script_name" -->?op=add_form&itemtype=<!-- TMPL_VAR NAME="itemtype" escape="HTML" -->"><img src="<!-- TMPL_VAR NAME="interface" -->/<!-- TMPL_VAR NAME="theme" -->/images/fileopen.png"  width="32" hspace="0" vspace="0" border="0"></a></td>
			<td><a href="<!-- TMPL_VAR NAME="script_name" -->?op=delete_confirm&itemtype=<!-- TMPL_VAR NAME="itemtype" escape="HTML" -->"><img src="<!-- TMPL_VAR NAME="interface" -->/<!-- TMPL_VAR NAME="theme" -->/images/edittrash.png" width="32" hspace="0" vspace="0" border="0"></a></td>
		</tr>
	<!-- /TMPL_LOOP -->
</table>
<form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
	<input type="hidden" name="op" value="add_form">
	<input type="submit" class="button parameters" value="Medientyp hinzuf&uuml;gen" title="Medientyp hinzuf&uuml;gen" alt="Medientyp hinzuf&uuml;gen">
	<td width="33%"><!-- TMPL_IF NAME="previous" --><a href="<!-- TMPL_VAR NAME="previous" -->"><input type="image" src="<!-- TMPL_VAR NAME="interface" -->/<!-- TMPL_VAR NAME="theme" -->/images/1leftarrow.png" title="vorheriges" alt="vorheriges" border="0"></a><!-- /TMPL_IF --></td>
	<td width="33%"><!-- TMPL_IF NAME="next" --><a href="<!-- TMPL_VAR NAME="next" -->"><input type="image" src="<!-- TMPL_VAR NAME="interface" -->/<!-- TMPL_VAR NAME="theme" -->/images/1rightarrow.png" title="next" alt="next" border="0"></a><!-- /TMPL_IF --></td>
</form>
</div>
<!-- /TMPL_IF -->
<!-- TMPL_INCLUDE NAME="parameters-bottom.inc" -->
