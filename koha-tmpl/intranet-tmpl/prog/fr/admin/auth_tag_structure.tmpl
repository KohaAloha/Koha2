<!-- TMPL_INCLUDE NAME="doc-head-open.inc" -->
<title>Koha &rsaquo; Administration système</title>
<!-- TMPL_INCLUDE NAME="doc-head-close.inc" -->


<!-- TMPL_INCLUDE NAME="menus.inc" -->
<!-- TMPL_INCLUDE NAME="menu-admin.inc" -->

<h1>Grille d'autorité Marc pour <!-- TMPL_IF NAME="authtypecode" --><!-- TMPL_VAR NAME="authtypecode" --><!-- TMPL_ELSE -->Grille par défaut<!-- /TMPL_IF --></h1>
<script language="javascript" type="text/javascript">
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function isNotNull(f,noalert) {
        if (f.value.length ==0) {
return false;
        }
        return true;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function toUC(f) {
        var x=f.value.toUpperCase();
        f.value=x;
        return true;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function isNum(v,maybenull) {
    var n = new Number(v.value);
    if (isNaN(n)) {
        return false;
        }
    if (maybenull==0 && v.value=='') {
        return false;
    }
    return true;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function isDate(f) {
        var t = Date.parse(f.value);
        if (isNaN(t)) {
            return false;
        }
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    function Check(f) {
        var ok=1;
        var _alertString="";
        var alertString2;
        if (f.tagfield.value.length==0) {
            _alertString += "\n- " + _("étiquette du champ absente");
        }
        if (_alertString.length==0) {
            document.Aform.submit();
        } else {
            alertString2  = _("Formulaire non soumis à cause du (des) problème(s) suivant(s)");
            alertString2 += "\n------------------------------------------------------------------------------------\n";
            alertString2 += _alertString;
            alert(alertString2);
        }
    }
    </script>

<!-- TMPL_IF NAME="add_form" -->

    <h2>
    <!-- TMPL_IF NAME="use-heading-flags-p" -->
    <!-- TMPL_IF NAME="heading-modify-tag-p" -->Modifier le champ<!-- /TMPL_IF -->
    <!-- TMPL_IF NAME="heading-add-tag-p" -->Ajouter un champ<!-- /TMPL_IF -->
    <!-- TMPL_ELSE --><!-- TMPL_VAR NAME="action" --><!-- /TMPL_IF -->
    </h2>
    <form action="<!-- TMPL_VAR NAME="script_name" -->" name="Aform" method="post">
        <input type="hidden" name="op" value="add_validate" />
        <input type="hidden" name="authtypecode" value="<!-- TMPL_VAR NAME="authtypecode" -->" />
        <p><label>Champ</label><!-- TMPL_VAR NAME="searchfield" --></p>
        <p><label>Texte pour les bibliothécaires</label><input type="text" name="liblibrarian" value="<!-- TMPL_VAR NAME="liblibrarian" escape=HTML -->" size="40" maxlength="100" /></p>
        <p><label>Texte à l'OPAC</label><input type="text" name="libopac" value="<!-- TMPL_VAR NAME="libopac" escape=HTML -->" size="40" maxlength="100" /></p>
        <p><label for="repeatable">Répétable</label>
            <!-- TMPL_IF NAME="repeatable" -->
                <input type="checkbox" name="repeatable" id="repeatable" value="1" checked/>
            <!-- TMPL_ELSE -->
                <input type="checkbox" name="repeatable" id="repeatable" value="1"/>
            <!-- /TMPL_IF -->
            &nbsp;
        </p>
        <p><label for="mandatory">Obligatoire</label>
            <!-- TMPL_IF NAME="mandatory" -->
                <input type="checkbox" name="mandatory" id="mandatory" value="1" checked/>
            <!-- TMPL_ELSE -->
                <input type="checkbox" name="mandatory" id="mandatory" value="1"/>
            <!-- /TMPL_IF -->
            &nbsp;
            </p>
        <p><label>Valeur autorisée</label><!-- TMPL_VAR NAME="authorised_value" --> (si vous sélectionnez une valeur ici, les indicateurs seront limités à la liste des valeurs autorisées)</p>
        <p><label>&nbsp;</label><input type="button" value="OK" class="button" onclick="Check(this.form)" /></p>
    </form>
<!-- /TMPL_IF -->


<!-- TMPL_IF NAME="delete_confirm" -->

<table>
    <tr>
        <td>Champ</td>
        <td><!-- TMPL_VAR NAME="searchfield" --></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><!-- TMPL_VAR NAME="liblibrarian" --></td>
    </tr>
    <form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
        <input type="hidden" name="op" value="delete_confirmed" />
        <input type="hidden" name="authtypecode" value="<!-- TMPL_VAR name="authtypecode" -->">
        <input type="hidden" name="searchfield" value="<!-- TMPL_VAR NAME="searchfield" -->" />
    <tr><td colspan="2" align="center">CONFIRMEZ SUPPRESSION</td></tr>
    <tr><td><input type="submit" value="OUI"></form></td><td><form action="<!-- TMPL_VAR NAME="script_name" -->" method="post"><input type="submit" value="NON" class="submit"></form></td></tr>
<!-- /TMPL_IF -->

<!-- TMPL_IF NAME="delete_confirmed" -->

    Donnée supprimée
    <form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
    <input type="hidden" name="authtypecode" value="<!-- TMPL_VAR name="authtypecode" -->">
    <input type="hidden" name="searchfield" value="<!-- TMPL_VAR NAME="searchfield" -->" />
    <input type="submit" value="OK" class="submit" />
    </form>
<!-- /TMPL_IF -->
<!-- TMPL_IF NAME="authtype_create" -->

    <form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
        <input type="hidden" name="op" value="authtype_create_confirm" />
        <input type="hidden" name="authtypecode" value="<!-- TMPL_VAR NAME="authtypecode" -->" />
        Créer une grille d'autorité pour <!-- TMPL_VAR NAME="authtypecode" --> en utilisant
        <select name="existingauthtypecode">
            <option value="">Par défaut</option>
        <!-- TMPL_LOOP NAME="existingauthtypeloop" -->
            <option value="<!-- TMPL_VAR NAME="value" -->"><!-- TMPL_VAR NAME="authtypetext" --></option>
        <!-- /TMPL_LOOP -->
        </select>
        <input type="submit" value="OK" class="submit" />
    </form>
<!-- /TMPL_IF -->


<!-- TMPL_IF NAME="else" -->
<div id="bloc25">
<h2>Sélectionner une grille d'autorité</h2>
<form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
    <select name="authtypecode">
        <option value="">Par défaut</option>
    <!-- TMPL_LOOP NAME="authtypeloop" -->
        <option value="<!-- TMPL_VAR NAME="value" -->" <!-- TMPL_IF NAME="selected" -->selected<!-- /TMPL_IF -->>
            <!-- TMPL_VAR NAME="authtypetext" -->
        </option>
    <!-- /TMPL_LOOP -->
    </select>
    <input type="text" name="searchfield" value="<!-- TMPL_VAR NAME="searchfield" -->" />
    <input type="submit" value="OK" class="submit" />
</form>
</div>
<div id="bloc100">
    <table>
    <tr>
        <th>Champ</th>
        <th>Texte</th>
        <th>Répétable</th>
        <th>Obligatoire</th>
        <th>Autorisé<br />valeur</th>
        <th>Sous-champs</th>
        <th>Modifier</th>
        <th>Supprimer</th>
    <!-- TMPL_LOOP NAME="loop" -->
    <tr valign="top" bgcolor="<!-- TMPL_VAR NAME="bgcolor" -->">
        <td><b><!-- TMPL_VAR NAME="tagfield" --></b></td>
        <td><!-- TMPL_VAR NAME="liblibrarian" --></td>
        <td><!-- TMPL_IF NAME="repeatable" -->Oui<!-- TMPL_ELSE -->Non<!-- /TMPL_IF --></td>
        <td><!-- TMPL_IF NAME="mandatory" -->Oui<!-- TMPL_ELSE -->Non<!-- /TMPL_IF --></td>
        <td><!-- TMPL_VAR NAME="authorised_value" --></td>
        <td><a href="<!-- TMPL_VAR NAME="subfield_link" -->" class="button">sous-champs</a></td>
        <td><a href="<!-- TMPL_VAR NAME="edit" -->">Modifier</a></td>
        <td><a href="<!-- TMPL_VAR NAME="delete" -->">Supprimer</a></td>
    </tr>
    <!-- /TMPL_LOOP -->
    </table>
    <form action="<!-- TMPL_VAR NAME="script_name" -->" method="post">
        <input type="hidden" name="op" value="add_form" />
        <input type="hidden" name="authtypecode" value="<!-- TMPL_VAR NAME="authtypecode" -->" />
        <input type="hidden" name="op" value="add_form" />
        <input type="submit" class="submit" value="Ajouter un champ">
        <!-- TMPL_IF NAME="isprevpage" -->
            <a href="<!-- TMPL_VAR NAME="script_name" -->?offset=<!-- TMPL_VAR NAME="prevpage" -->&amp;searchfield=<!-- TMPL_VAR NAME="searchfield" -->&authtypecode=<!-- TMPL_VAR NAME="authtypecode" --> ">Page précédente</a>
        <!-- /TMPL_IF -->
        <!-- TMPL_IF NAME="nextpage" -->
            <a href="<!-- TMPL_VAR NAME="script_name" -->?offset=<!-- TMPL_VAR NAME="nextpage" -->&amp;searchfield=<!-- TMPL_VAR NAME="searchfield" -->&authtypecode=<!-- TMPL_VAR NAME="authtypecode" --> ">Page suivante</a>
        <!-- /TMPL_IF -->
    </form>
</div>
<!-- /TMPL_IF -->

<!-- TMPL_INCLUDE NAME="intranet-bottom.inc" -->
